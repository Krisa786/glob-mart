# =============================================================================
# GlobeMart Backend API - Environment Configuration
# =============================================================================
# Copy this file to .env and update the values according to your environment
# Never commit the actual .env file to version control

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=3001
NODE_ENV=development
# Options: development, production, test

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MySQL Database Settings
DB_USERNAME=root
DB_PASSWORD=password
DB_NAME=globe_mart
DB_HOST=localhost
DB_PORT=3306
DB_DIALECT=mysql
DB_POOL_MIN=0
DB_POOL_MAX=5
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# =============================================================================
# JWT AUTHENTICATION CONFIGURATION
# =============================================================================
# JWT Token Settings
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=30d
JWT_CLOCK_SKEW_TOLERANCE=120

# JWT Key Rotation (for production security)
JWT_KEY_ROTATION_ENABLED=false
JWT_CURRENT_KEY_ID=default

# Generate keys using: npm run generate-keys
# These should be RSA key pairs for production
JWT_PRIVATE_KEY=your-private-key-here
JWT_PUBLIC_KEY=your-public-key-here

# =============================================================================
# ENCRYPTION CONFIGURATION
# =============================================================================
# 32-byte base64 encryption key for sensitive data
# Generate using: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_KEY=your-32-byte-base64-encryption-key-here

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:3000,http://localhost:3002

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
EMAIL_ENABLED=true
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM_NAME=GlobeMart
EMAIL_FROM_ADDRESS=noreply@globemart.com

# Frontend URL for email links
FRONTEND_URL=http://localhost:3000

# =============================================================================
# AWS S3 CONFIGURATION (Media Upload)
# =============================================================================
S3_BUCKET=your-s3-bucket-name
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=your-s3-access-key-id
S3_SECRET_ACCESS_KEY=your-s3-secret-access-key
ASSET_BASE_URL=https://your-cdn-domain.com

# =============================================================================
# SEARCH ENGINE CONFIGURATION
# =============================================================================
# Search engine type: meilisearch, elasticsearch
SEARCH_ENGINE=meilisearch

# Meilisearch Configuration
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_API_KEY=your-meilisearch-master-key
MEILISEARCH_INDEX_PRODUCTS=products

# Elasticsearch Configuration (if using elasticsearch)
# ELASTICSEARCH_HOST=http://localhost:9200
# ELASTICSEARCH_USERNAME=
# ELASTICSEARCH_PASSWORD=
# ELASTICSEARCH_INDEX_PRODUCTS=products

# =============================================================================
# REDIS CONFIGURATION (Caching & Queue)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=globemart:

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# Rate limiting settings (requests per window)
RATE_LIMIT_GENERAL=100
RATE_LIMIT_AUTH=5
RATE_LIMIT_SEARCH=60
RATE_LIMIT_UPLOAD=10
RATE_LIMIT_ADMIN=200
RATE_LIMIT_PUBLIC=300
RATE_LIMIT_HEALTH=1000

# Rate limiting window in milliseconds
RATE_LIMIT_WINDOW_MS=900000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Session configuration
SESSION_SECRET=your-session-secret-here

# Password requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# Account lockout settings
ACCOUNT_LOCKOUT_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900000

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Maximum file size in bytes (10MB)
MAX_FILE_SIZE=10485760

# Allowed file types
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp

# Upload directory (for local storage)
UPLOAD_DIR=uploads

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================
# Health check timeout in milliseconds
HEALTH_CHECK_TIMEOUT=5000

# Enable cleanup service
ENABLE_CLEANUP=false

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Enable debug mode
DEBUG=false

# Enable API documentation
ENABLE_DOCS=true

# Mock external services in development
MOCK_EXTERNAL_SERVICES=false

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================
# SSL/TLS Configuration
SSL_ENABLED=false
SSL_CERT_PATH=
SSL_KEY_PATH=

# Trust proxy (for load balancers)
TRUST_PROXY=false

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================
# Payment Gateway Configuration
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# RAZORPAY_KEY_ID=rzp_test_...
# RAZORPAY_KEY_SECRET=...

# Analytics Configuration
# GOOGLE_ANALYTICS_ID=GA-...
# SENTRY_DSN=https://...

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable features
FEATURE_TWO_FACTOR_AUTH=true
FEATURE_EMAIL_VERIFICATION=true
FEATURE_PASSWORD_RESET=true
FEATURE_USER_REGISTRATION=true
FEATURE_ADMIN_PANEL=true
FEATURE_SEARCH=true
FEATURE_IMAGE_UPLOAD=true
FEATURE_RATE_LIMITING=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Database backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================
# Push notification settings
PUSH_NOTIFICATIONS_ENABLED=false
FCM_SERVER_KEY=
APNS_KEY_ID=
APNS_TEAM_ID=
APNS_BUNDLE_ID=

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Cache TTL in seconds
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=3600
CACHE_TTL_VERY_LONG=86400

# =============================================================================
# API VERSIONING
# =============================================================================
# API version
API_VERSION=v1

# Default API response format
API_RESPONSE_FORMAT=json

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Request timeout in milliseconds
REQUEST_TIMEOUT=30000

# Maximum request body size
MAX_REQUEST_SIZE=10mb

# Connection pool settings
CONNECTION_POOL_MIN=2
CONNECTION_POOL_MAX=10